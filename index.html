<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="سایت شخصی رهام | برنامه‌نویس و متخصص هوش مصنوعی، طراحی وب و چت‌بات‌های هوشمند" />
  <meta name="author" content="Roham" />
  <title>Roham prog</title>

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />

  <!-- Font Awesome -->
  <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>

  <!-- فونت فارسی -->
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;700&display=swap" rel="stylesheet" />

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- استایل اصلی شما (در صورتی که موجود است) -->
  <link href="styles.css" rel="stylesheet" />

  <!-- استایل جدید هِرو و افکت‌ها (همیشه بعد از styles.css قرار گیرد) -->
  <link href="hero-glitch.css" rel="stylesheet" />
</head>
<body id="page-top">
<!-- decorative background (Glitch-like) - single instance -->
<div class="glitch-bg" aria-hidden="true">
  <canvas id="glitch-canvas" aria-hidden="true"></canvas>
  <div class="nebula-layer" aria-hidden="true"></div>
  <div class="floating-bubbles" aria-hidden="true">
    <span class="bubble b1" aria-hidden="true"></span>
    <span class="bubble b2" aria-hidden="true"></span>
    <span class="bubble b3" aria-hidden="true"></span>
    <span class="bubble b4" aria-hidden="true"></span>
  </div>
  <div class="grain" aria-hidden="true"></div>
</div>  
  <!-- ناوبری -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="#page-top">
        <img src="assets/img/navbar-logo.svg" alt="لوگو" class="logo" />
        <span class="brand-text">Roham prog</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive"
              aria-controls="navbarResponsive" aria-expanded="false" aria-label="باز کردن منو">
        منو <i class="fas fa-bars ms-1"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav text-uppercase ms-auto py-4 py-lg-0">
          <li class="nav-item"><a class="nav-link" href="#services">خدمات</a></li>
          <li class="nav-item"><a class="nav-link" href="#portfolio">نمونه‌کارها</a></li>
          <li class="nav-item"><a class="nav-link" href="#about">درباره من</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact">تماس</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- هِرو حالت Split (شبیه Glitch signin) -->
  <header class="masthead split" id="home">
    <!-- پنل چپ: کانواس و متن توصیفی -->
    <div class="left-panel" aria-hidden="false">
      <canvas id="bg-canvas"></canvas>
      <div class="left-overlay">
        <h2 class="left-title">خلق ایده، اجرا کردن وب</h2>
        <p class="left-desc">پلتفرم من برای ساخت پروژه‌های مدرن و هوشمند</p>
      </div>
    </div>

    <!-- پنل راست: کارت اکشن -->
    <div class="right-panel">
      <div class="auth-card glass-card auth-card">
        <div class="brand-row">
          <img src="assets/img/navbar-logo.svg" alt="لوگو" class="brand-logo" />
          <span class="brand-name">Roham prog</span>
        </div>

        <h1 class="glitch" data-text="ROHAM PROG">ROHAM PROG</h1>
        <p class="lead">برنامه‌نویس و متخصص هوش مصنوعی</p>

        <div class="card-actions">
          <a class="btn btn-cta" href="#portfolio">مشاهده نمونه‌کار</a>
          <button class="btn btn-ghost" data-bs-toggle="modal" data-bs-target="#contactModal">تماس با من</button>
        </div>

        <div class="auth-footer">
          <small>یا ادامه با</small>
          <div class="socials mt-2">
            <button class="social-btn github" aria-label="ورود با گیت‌هاب"><i class="fab fa-github"></i></button>
            <button class="social-btn google" aria-label="ورود با گوگل"><i class="fab fa-google"></i></button>
          </div>
        </div>

        <div class="glow-spot g1" aria-hidden="true"></div>
        <div class="glow-spot g2" aria-hidden="true"></div>
      </div>
    </div>
  </header>
        <!-- Services-->
      <section class="page-section" id="services">
  <div class="container">
    <div class="text-center">
      <h2 class="section-heading text-uppercase">خدمات من</h2>
      <h3 class="section-subheading text-muted">مهارت‌هایی که با عشق و دقت ارائه می‌دم</h3>
    </div>
    <div class="row text-center">
      <div class="col-md-4">
        <span class="fa-stack fa-4x">
          <i class="fas fa-circle fa-stack-2x text-primary"></i>
          <i class="fas fa-code fa-stack-1x fa-inverse"></i>
        </span>
        <h4 class="my-3">طراحی و توسعه وب</h4>
        <p class="text-muted">ساخت وب‌سایت‌های واکنش‌گرا، سریع و حرفه‌ای با تمرکز بر تجربه کاربری و زیبایی بصری.</p>
      </div>
      <div class="col-md-4">
        <span class="fa-stack fa-4x">
          <i class="fas fa-circle fa-stack-2x text-primary"></i>
          <i class="fas fa-robot fa-stack-1x fa-inverse"></i>
        </span>
        <h4 class="my-3">هوش مصنوعی و چت‌بات‌ها</h4>
        <p class="text-muted">طراحی چت‌بات‌های هوشمند با شخصیت و تعامل طبیعی، مبتنی بر مدل‌های یادگیری ماشین.</p>
      </div>
      <div class="col-md-4">
        <span class="fa-stack fa-4x">
          <i class="fas fa-circle fa-stack-2x text-primary"></i>
          <i class="fas fa-magic fa-stack-1x fa-inverse"></i>
        </span>
        <h4 class="my-3">ادیت عکس و ویدیو</h4>
        <p class="text-muted">ویرایش خلاقانه تصاویر و ویدیوها با استفاده از ابزارهای هوش مصنوعی و جلوه‌های ویژه.</p>
      </div>
    </div>
    <div class="row text-center mt-5">
      <div class="col-md-12">
        <span class="fa-stack fa-4x">
          <i class="fas fa-circle fa-stack-2x text-primary"></i>
          <i class="fas fa-brain fa-stack-1x fa-inverse"></i>
        </span>
        <h4 class="my-3">پروژه‌های سفارشی هوش مصنوعی</h4>
        <p class="text-muted">طراحی و پیاده‌سازی انواع سیستم‌های هوشمند متناسب با نیازهای خاص شما—از تحلیل داده تا اتوماسیون.</p>
      </div>
    </div>
  </div>
</section>
        <!-- Portfolio Grid-->
<!-- بخش نمونه‌کارها -->
<!-- نمونه‌کارها -->
<section class="page-section bg-light" id="portfolio" dir="rtl" lang="fa">
  <div class="container">
    <div class="text-center">
      <h2 class="section-heading text-uppercase">نمونه‌کارها</h2>
      <h3 class="section-subheading text-muted">پروژه‌هایی که با عشق، تخصص و خلاقیت اجرا کرده‌ام</h3>
    </div>

    <div class="row">
      <!-- پروژه 1 -->
      <div class="col-lg-4 col-sm-6 mb-4">
        <div class="portfolio-item">
          <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal1" role="button" aria-controls="portfolioModal1" aria-label="باز کردن جزئیات چت‌بات فروش">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x" aria-hidden="true"></i></div>
            </div>
            <img class="img-fluid" src="assets/img/portfolio/1.jpg" alt="چت‌بات فروش" />
          </a>
          <div class="portfolio-caption">
            <div class="portfolio-caption-heading">چت‌بات فروش</div>
            <div class="portfolio-caption-subheading text-muted">طراحی تجربه کاربری هوشمند</div>
          </div>
        </div>
      </div>

      <!-- پروژه 2 -->
      <div class="col-lg-4 col-sm-6 mb-4">
        <div class="portfolio-item">
          <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal2" role="button" aria-controls="portfolioModal2" aria-label="باز کردن جزئیات مدیریت پروژه">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x" aria-hidden="true"></i></div>
            </div>
            <img class="img-fluid" src="assets/img/portfolio/2.jpg" alt="مدیریت پروژه" />
          </a>
          <div class="portfolio-caption">
            <div class="portfolio-caption-heading">مدیریت پروژه</div>
            <div class="portfolio-caption-subheading text-muted">طراحی رابط کاربری واکنش‌گرا</div>
          </div>
        </div>
      </div>

      <!-- پروژه 3 -->
      <div class="col-lg-4 col-sm-6 mb-4">
        <div class="portfolio-item">
          <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal3" role="button" aria-controls="portfolioModal3" aria-label="باز کردن جزئیات تشخیص احساسات">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x" aria-hidden="true"></i></div>
            </div>
            <img class="img-fluid" src="assets/img/portfolio/3.jpg" alt="تشخیص احساسات" />
          </a>
          <div class="portfolio-caption">
            <div class="portfolio-caption-heading">تشخیص احساسات</div>
            <div class="portfolio-caption-subheading text-muted">تحلیل داده با هوش مصنوعی</div>
          </div>
        </div>
      </div>

      <!-- پروژه 4 -->
      <div class="col-lg-4 col-sm-6 mb-4 mb-lg-0">
        <div class="portfolio-item">
          <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal4" role="button" aria-controls="portfolioModal4" aria-label="باز کردن جزئیات طراحی لوگو">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x" aria-hidden="true"></i></div>
            </div>
            <img class="img-fluid" src="assets/img/portfolio/4.jpg" alt="طراحی لوگو" />
          </a>
          <div class="portfolio-caption">
            <div class="portfolio-caption-heading">طراحی لوگو</div>
            <div class="portfolio-caption-subheading text-muted">هویت بصری و برندسازی</div>
          </div>
        </div>
      </div>

      <!-- پروژه 5 -->
      <div class="col-lg-4 col-sm-6 mb-4 mb-sm-0">
        <div class="portfolio-item">
          <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal5" role="button" aria-controls="portfolioModal5" aria-label="باز کردن جزئیات نمونه‌کارهای آنلاین">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x" aria-hidden="true"></i></div>
            </div>
            <img class="img-fluid" src="assets/img/portfolio/5.jpg" alt="نمونه‌کارهای آنلاین" />
          </a>
          <div class="portfolio-caption">
            <div class="portfolio-caption-heading">نمونه‌کارهای آنلاین</div>
            <div class="portfolio-caption-subheading text-muted">طراحی وب‌سایت‌های حرفه‌ای</div>
          </div>
        </div>
      </div>

      <!-- پروژه 6 -->
      <div class="col-lg-4 col-sm-6">
        <div class="portfolio-item">
          <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal6" role="button" aria-controls="portfolioModal6" aria-label="باز کردن جزئیات عکاسی صنعتی">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x" aria-hidden="true"></i></div>
            </div>
            <img class="img-fluid" src="assets/img/portfolio/6.jpg" alt="عکاسی صنعتی" />
          </a>
          <div class="portfolio-caption">
            <div class="portfolio-caption-heading">عکاسی صنعتی</div>
            <div class="portfolio-caption-subheading text-muted">ویرایش حرفه‌ای و جلوه‌های ویژه</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- مودال 1: چت‌بات فروش -->
<div class="modal fade" id="portfolioModal1" tabindex="-1" aria-labelledby="portfolioModal1Label" aria-hidden="true" dir="rtl" lang="fa">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="portfolioModal1Label">چت‌بات فروش — سامانه سفارش و پشتیبانی</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
      </div>
      <div class="modal-body">
        <img src="assets/img/portfolio/1.jpg" class="img-fluid mb-3" alt="چت‌بات فروش">
        <h6>خلاصه پروژه</h6>
        <p>طراحی و پیاده‌سازی یک چت‌بات فروش که مشتریان را در انتخاب محصول، پردازش سفارش و پشتیبانی پس از فروش همراهی می‌کند. چت‌بات قابلیت اتصال به درگاه پرداخت، ارسال فاکتور و پاسخ‌دهی خودکار به پرسش‌های متداول را دارد.</p>
        <h6>نقش من</h6>
        <p>تحلیل نیازها، طراحی جریان گفتگو، پیاده‌سازی منطق سرور، و یکپارچه‌سازی با API درگاه پرداخت و پیام‌رسان‌ها.</p>
        <h6>نتیجه و دستاوردها</h6>
        <ul>
          <li>افزایش نرخ تبدیل بازدیدکننده به خریدار تا 22٪.</li>
          <li>کاهش حجم تماس‌های پشتیبانی به‌خاطر پاسخ‌های خودکار.</li>
          <li>یکپارچگی با تلگرام و واتساپ برای ارسال اعلان سفارش.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <a href="#portfolio" class="btn btn-secondary" data-bs-dismiss="modal">بازگشت</a>
        <a href="#" class="btn btn-primary" target="_blank" rel="noopener">مشاهده پروژه</a>
      </div>
    </div>
  </div>
</div>

<!-- مودال 2: مدیریت پروژه -->
<div class="modal fade" id="portfolioModal2" tabindex="-1" aria-labelledby="portfolioModal2Label" aria-hidden="true" dir="rtl" lang="fa">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="portfolioModal2Label">پلتفرم مدیریت پروژه — داشبورد تیمی</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
      </div>
      <div class="modal-body">
        <img src="assets/img/portfolio/2.jpg" class="img-fluid mb-3" alt="مدیریت پروژه">
        <h6>خلاصه پروژه</h6>
        <p>ساخت داشبورد مدیریت پروژه با تمرکز بر تسک‌برد، گزارش‌گیری و پیگیری زمان. هدف کاهش پیچیدگی مدیریت تیم‌های کوچک و بهبود شفافیت در تخصیص وظایف بوده است.</p>
        <h6>نقش من</h6>
        <p>طراحی UI/UX واکنش‌گرا، پیاده‌سازی قسمت گزارش‌دهی و اتصال به سرویس‌های احراز هویت سازمانی.</p>
        <h6>نتیجه و دستاوردها</h6>
        <ul>
          <li>کاهش زمان چرخه توسعه با بهبود فرایند تخصیص وظایف.</li>
          <li>افزایش رضایت تیمی به‌واسطه داشبورد شفاف.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <a href="#portfolio" class="btn btn-secondary" data-bs-dismiss="modal">بازگشت</a>
        <a href="#" class="btn btn-primary" target="_blank" rel="noopener">مشاهده پروژه</a>
      </div>
    </div>
  </div>
</div>

<!-- مودال 3: تشخیص احساسات -->
<div class="modal fade" id="portfolioModal3" tabindex="-1" aria-labelledby="portfolioModal3Label" aria-hidden="true" dir="rtl" lang="fa">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="portfolioModal3Label">سامانه تشخیص احساسات — تحلیل بازخورد</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
      </div>
      <div class="modal-body">
        <img src="assets/img/portfolio/3.jpg" class="img-fluid mb-3" alt="تشخیص احساسات">
        <h6>خلاصه پروژه</h6>
        <p>پیاده‌سازی مدل‌های پردازش زبان طبیعی برای تحلیل بازخورد مشتریان و دسته‌بندی احساسات مثبت، منفی و خنثی. داشبوردی برای مشاهده ترندها و استخراج نقاط بحرانی طراحی شد.</p>
        <h6>نقش من</h6>
        <p>آماده‌سازی داده، آموزش مدل، و توسعه API برای سرویس تحلیل در مقیاس واقعی.</p>
        <h6>نتیجه و دستاوردها</h6>
        <ul>
          <li>شناسایی الگوهای نارضایتی که منجر به بهبود محصول شد.</li>
          <li>امکان گزارش هفتگی احساسات مشتریان برای مدیریت.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <a href="#portfolio" class="btn btn-secondary" data-bs-dismiss="modal">بازگشت</a>
        <a href="#" class="btn btn-primary" target="_blank" rel="noopener">مشاهده پروژه</a>
      </div>
    </div>
  </div>
</div>

<!-- مودال 4: طراحی لوگو -->
<div class="modal fade" id="portfolioModal4" tabindex="-1" aria-labelledby="portfolioModal4Label" aria-hidden="true" dir="rtl" lang="fa">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="portfolioModal4Label">پکیج هویت بصری — طراحی لوگو</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
      </div>
      <div class="modal-body">
        <img src="assets/img/portfolio/4.jpg" class="img-fluid mb-3" alt="طراحی لوگو">
        <h6>خلاصه پروژه</h6>
        <p>طراحی لوگو و هویت بصری برای کسب‌وکارهای نوپا با توجه به پیام برند و بازار هدف. شامل نسخه‌های رنگی، تک‌رنگ و راهنمای استفاده است.</p>
        <h6>نقش من</h6>
        <p>تحلیل برند، طراحی اولیه، بازنگری با مشتری و آماده‌سازی فایل‌های نهایی برای چاپ و وب.</p>
        <h6>نتیجه و دستاوردها</h6>
        <ul>
          <li>تحویل بسته کامل هویت بصری همراه با راهنمای استفاده.</li>
          <li>هماهنگی با تیم بازاریابی برای توسعه پیام برند.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <a href="#portfolio" class="btn btn-secondary" data-bs-dismiss="modal">بازگشت</a>
        <a href="#" class="btn btn-primary" target="_blank" rel="noopener">مشاهده پروژه</a>
      </div>
    </div>
  </div>
</div>

<!-- مودال 5: نمونه‌کارهای آنلاین -->
<div class="modal fade" id="portfolioModal5" tabindex="-1" aria-labelledby="portfolioModal5Label" aria-hidden="true" dir="rtl" lang="fa">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="portfolioModal5Label">وب‌سایت‌های حرفه‌ای — نمونه‌کارهای آنلاین</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
      </div>
      <div class="modal-body">
        <img src="assets/img/portfolio/5.jpg" class="img-fluid mb-3" alt="نمونه‌کارهای آنلاین">
        <h6>خلاصه پروژه</h6>
        <p>طراحی و توسعه وب‌سایت‌های شرکتی و فروشگاهی با تاکید بر سرعت بارگذاری، سئو پایه و تجربه کاربری. پیاده‌سازی ریسپانسیو برای تمام دستگاه‌ها انجام شد.</p>
        <h6>نقش من</h6>
        <p>برنامه‌نویسی فرانت‌اند، پیاده‌سازی بک‌اند ساده و استقرار روی هاست/CI.</p>
        <h6>نتیجه و دستاوردها</h6>
        <ul>
          <li>افزایش سرعت لود صفحات و بهبود امتیاز Core Web Vitals.</li>
          <li>تحویل پنل مدیریت ساده برای مشتریان.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <a href="#portfolio" class="btn btn-secondary" data-bs-dismiss="modal">بازگشت</a>
        <a href="#" class="btn btn-primary" target="_blank" rel="noopener">مشاهده پروژه</a>
      </div>
    </div>
  </div>
</div>

<!-- مودال 6: عکاسی صنعتی -->
<div class="modal fade" id="portfolioModal6" tabindex="-1" aria-labelledby="portfolioModal6Label" aria-hidden="true" dir="rtl" lang="fa">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="portfolioModal6Label">عکاسی صنعتی و ادیت حرفه‌ای</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
      </div>
      <div class="modal-body">
        <img src="assets/img/portfolio/6.jpg" class="img-fluid mb-3" alt="عکاسی صنعتی">
        <h6>خلاصه پروژه</h6>
        <p>عکاسی از محصولات و محیط کار صنعتی، ویرایش رنگ و نور، و آماده‌سازی تصاویر برای کاتالوگ و وب‌سایت. تمرکز بر نمایش واضح جزئیات و ارتقای جذابیت بصری محصول بود.</p>
        <h6>نقش من</h6>
        <p>سِت‌آپ نور، عکاسی، ویرایش نهایی و تحویل فرمت‌های مناسب وب و چاپ.</p>
        <h6>نتیجه و دستاوردها</h6>
        <ul>
          <li>افزایش تعامل صفحات محصول و درخواست‌های بی‌واسطه از مشتریان.</li>
          <li>تحویل تصاویر با کیفیت چاپ و نسخه‌های بهینه‌شده برای وب.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <a href="#portfolio" class="btn btn-secondary" data-bs-dismiss="modal">بازگشت</a>
        <a href="#" class="btn btn-primary" target="_blank" rel="noopener">مشاهده پروژه</a>
      </div>
    </div>
  </div>
</div>
        <!-- About-->
 <section class="page-section bg-light" id="about">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="section-heading text-uppercase">درباره من</h2>
      <h3 class="section-subheading text-muted">برنامه‌نویس و متخصص هوش مصنوعی</h3>
    </div>
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card shadow-lg border-0 rounded-4">
          <div class="card-body p-4">
            <p class="text-muted" style="font-size:16px; line-height:1.9;">
              من یک توسعه‌دهنده وب و متخصص هوش مصنوعی هستم. در سال 2023 موفق به کسب رتبه ششم در رقابت‌های برنامه‌نویسی ترکیه شدم.  
              سابقه کاری من شامل طراحی و پیاده‌سازی سیستم‌های هوشمند، توسعه وب‌سایت‌های واکنش‌گرا، و حل مسائل پیچیده با استفاده از الگوریتم‌های یادگیری ماشین است.  
              تمرکز اصلی من بر ساخت راه‌حل‌های کاربردی و قابل توسعه برای بهینه‌سازی فرآیندهای دیجیتال و ارتقای تجربه کاربری است.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section> 
        <!-- Team-->
<!-- Clients -->
<div class="py-5">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-3 col-sm-6 my-3">
        <a href="#!">
          <img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/microsoft.svg" alt="Microsoft Logo" />
        </a>
      </div>
      <div class="col-md-3 col-sm-6 my-3">
        <a href="#!">
          <img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/google.svg" alt="Google Logo" />
        </a>
      </div>
      <div class="col-md-3 col-sm-6 my-3">
        <a href="#!">
          <img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/facebook.svg" alt="Facebook Logo" />
        </a>
      </div>
      <div class="col-md-3 col-sm-6 my-3">
        <a href="#!">
          <img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/ibm.svg" alt="IBM Logo" />
        </a>
      </div>
    </div>
  </div>
</div>
        <!-- Clients-->
        <div class="py-5">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="#!"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/microsoft.svg" alt="..." aria-label="Microsoft Logo" /></a>
                    </div>
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="#!"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/google.svg" alt="..." aria-label="Google Logo" /></a>
                    </div>
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="#!"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/facebook.svg" alt="..." aria-label="Facebook Logo" /></a>
                    </div>
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="#!"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/ibm.svg" alt="..." aria-label="IBM Logo" /></a>
                    </div>
                </div>
            </div>
        </div>
        <!-- Contact-->
<section class="page-section" id="contact">
  <div class="container">
    <div class="text-center">
      <h2 class="section-heading text-uppercase">تماس با من</h2>
      <h3 class="section-subheading text-muted">برای همکاری یا مشاوره، خوشحال می‌شم در ارتباط باشیم</h3>
    </div>
    <form id="contactForm" data-sb-form-api-token="API_TOKEN">
      <div class="row align-items-stretch mb-3">
        <div class="col-md-6">
          <div class="form-group">
            <input class="form-control" id="name" type="text" placeholder="نام شما *" required />
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <input class="form-control" id="email" type="email" placeholder="ایمیل شما *" required />
          </div>
        </div>
      </div>
      <div class="row align-items-stretch mb-3">
        <div class="col-md-12">
          <div class="form-group">
            <input class="form-control" id="phone" type="tel" placeholder="شماره تماس *" required />
          </div>
        </div>
      </div>
      <div class="form-group mb-3">
        <textarea class="form-control" id="message" rows="5" placeholder="پیام شما *" required></textarea>
      </div>
      <div class="text-center">
        <button class="btn btn-primary btn-xl text-uppercase" type="submit">ارسال پیام</button>
      </div>
    </form>
  </div>
</section>
        <!-- Footer-->
        <footer class="footer py-4">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-4 text-lg-start">Copyright &copy; Your Website 2023</div>
                    <div class="col-lg-4 my-3 my-lg-0">
                        <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                    <div class="col-lg-4 text-lg-end">
                        <a class="link-dark text-decoration-none me-3" href="#!">Privacy Policy</a>
                        <a class="link-dark text-decoration-none" href="#!">Terms of Use</a>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Portfolio Modals-->
        <!-- Portfolio item 1 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Project Name</h2>
                                    <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/portfolio/1.jpg" alt="..." />
                                    <p>Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                                    <ul class="list-inline">
                                        <li>
                                            <strong>Client:</strong>
                                            Threads
                                        </li>
                                        <li>
                                            <strong>Category:</strong>
                                            Illustration
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close Project
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio item 2 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Project Name</h2>
                                    <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/portfolio/2.jpg" alt="..." />
                                    <p>Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                                    <ul class="list-inline">
                                        <li>
                                            <strong>Client:</strong>
                                            Explore
                                        </li>
                                        <li>
                                            <strong>Category:</strong>
                                            Graphic Design
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close Project
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio item 3 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal3" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Project Name</h2>
                                    <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/portfolio/3.jpg" alt="..." />
                                    <p>Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                                    <ul class="list-inline">
                                        <li>
                                            <strong>Client:</strong>
                                            Finish
                                        </li>
                                        <li>
                                            <strong>Category:</strong>
                                            Identity
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close Project
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio item 4 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal4" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Project Name</h2>
                                    <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/portfolio/4.jpg" alt="..." />
                                    <p>Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                                    <ul class="list-inline">
                                        <li>
                                            <strong>Client:</strong>
                                            Lines
                                        </li>
                                        <li>
                                            <strong>Category:</strong>
                                            Branding
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close Project
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio item 5 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal5" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Project Name</h2>
                                    <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/portfolio/5.jpg" alt="..." />
                                    <p>Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                                    <ul class="list-inline">
                                        <li>
                                            <strong>Client:</strong>
                                            Southwest
                                        </li>
                                        <li>
                                            <strong>Category:</strong>
                                            Website Design
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close Project
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio item 6 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal6" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Project Name</h2>
                                    <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/portfolio/6.jpg" alt="..." />
                                    <p>Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                                    <ul class="list-inline">
                                        <li>
                                            <strong>Client:</strong>
                                            Window
                                        </li>
                                        <li>
                                            <strong>Category:</strong>
                                            Photography
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close Project
                                    </button>
                                </div>
                            </div>
                        </div>
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>چت‌بات Roham (کلاینت)</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    :root{ --primary:#007bff; --bg:#fff; --muted:#f6f7fb; --radius:12px; --z:99999; --cw-desktop:360px; --cw-mobile:94vw; --fab:58px; }
    html{ scroll-behavior:smooth; }
    body{font-family: "Vazirmatn", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;}
    .chat-fab{ position:fixed; bottom:calc(env(safe-area-inset-bottom,0px)+18px); right:18px; z-index:var(--z); width:var(--fab); height:var(--fab); border-radius:50%; background:var(--primary); color:#fff; display:inline-flex; align-items:center; justify-content:center; box-shadow:0 8px 20px rgba(2,6,23,0.18); border:none; cursor:pointer; }
    .chatbox{ position:fixed; bottom:calc(env(safe-area-inset-bottom,0px)+20px); right:18px; z-index:calc(var(--z)+1); width:var(--cw-desktop); max-height:80vh; display:flex; flex-direction:column; background:var(--bg); border-radius:var(--radius); box-shadow:0 12px 40px rgba(10,20,40,0.12); overflow:hidden; }
    .chatbox[aria-hidden="true"]{ display:none; }
    .cb-header{ display:flex; gap:10px; align-items:center; padding:10px 12px; background:linear-gradient(90deg,var(--primary),#0062d6); color:#fff; }
    .cb-header .avatar{ width:44px; height:44px; border-radius:10px; overflow:hidden; flex:0 0 44px; display:inline-flex; align-items:center; justify-content:center; background:#fff; }
    .cb-log{ padding:12px; overflow:auto; background:var(--muted); flex:1 1 auto; font-size:14px; line-height:1.5; }
    .cb-msg{ margin-bottom:10px; display:flex; gap:8px; align-items:flex-end; }
    .cb-msg.user{ justify-content:flex-start; direction:rtl; }
    .cb-msg.bot{ justify-content:flex-end; direction:rtl; }
    .bubble{ max-width:78%; padding:8px 12px; border-radius:10px; }
    .cb-msg.user .bubble{ background:#e9f2ff; color:#062a66; border-bottom-left-radius:4px; }
    .cb-msg.bot .bubble{ background:#fff; color:#111; box-shadow:0 2px 8px rgba(12,20,30,0.06); border-bottom-right-radius:4px; }
    .cb-input{ display:flex; gap:8px; align-items:center; padding:10px; border-top:1px solid #eee; background:linear-gradient(180deg,#fff,#fbfdff); }
    .cb-input input[type="text"]{ flex:1; border:1px solid #e6e9ef; border-radius:8px; padding:10px 12px; font-size:14px; outline:none; }
    .cb-input button{ min-width:44px; height:44px; border-radius:8px; border:none; background:var(--primary); color:#fff; }
    .chatbox.minimized{ width:220px; height:64px; overflow:visible; align-items:flex-start; }
    @media (max-width:520px){ .chatbox{ right:50%; transform:translateX(50%); width:var(--cw-mobile); bottom:calc(env(safe-area-inset-bottom,0px)+12px); } .chat-fab{ right:calc(50% - var(--fab)/2); } .chatbox.minimized{ width:62vw; right:50%; transform:translateX(50%); } }
    .quick-row{ display:flex; gap:6px; flex-wrap:wrap; margin-top:6px; }
    .quick-btn{ background:#fff; border:1px solid #e6e9ef; padding:6px 8px; border-radius:8px; font-size:13px; cursor:pointer; color:#111; }
    .meta{ font-size:12px; opacity:.85; }
  </style>
</head>
<body>

  <!-- FAB -->
  <button id="openFab" class="chat-fab" aria-label="باز کردن راهنمای هوشمند" title="راهنمای هوشمند">
    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false">
      <path d="M21 15a2 2 0 0 1-2 2H8l-5 3V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" fill="white"/>
    </svg>
  </button>

  <!-- Chatbox -->
  <div id="chatbox" class="chatbox" role="dialog" aria-label="راهنمای هوشمند" aria-hidden="true">
    <div class="cb-header" role="heading" aria-level="1">
      <div class="avatar" aria-hidden="true" id="botAvatar">
        <svg width="44" height="44" viewBox="0 0 24 24" fill="none">
          <rect width="24" height="24" rx="6" fill="#fff"/>
          <path d="M12 12a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 1.5c-3 0-6 1.5-6 4.5v.5h12v-.5c0-3-3-4.5-6-4.5z" fill="#007bff"/>
        </svg>
      </div>
      <div style="flex:1;">
        <h4>راهنمای هوشمند Roham</h4>
        <div class="meta" id="botSubtitle">پشتیبانی از فینگلش، چندزبان، یادگیری پویا</div>
      </div>
      <div style="display:flex; gap:6px; align-items:center;">
        <button id="minimizeBtn" aria-label="کوچک کردن" title="کوچک کردن" style="background:transparent;border:none;color:#fff;font-size:18px;cursor:pointer;">—</button>
        <button id="closeBtn" aria-label="بستن" title="بستن" style="background:transparent;border:none;color:#fff;font-size:20px;cursor:pointer;">×</button>
      </div>
    </div>

    <div id="chatlog" class="cb-log" aria-live="polite" aria-atomic="false"></div>

    <div class="cb-input">
      <input id="chatinput" type="text" placeholder="سؤال خود را بنویسید یا 'lang:en' یا 'finglish:on' بزن" aria-label="پیام شما" />
      <button id="sendBtn" aria-label="ارسال پیام">ارسال</button>
      <button id="voiceBtn" aria-label="ورودی صوتی" title="دو بار کلیک برای ضبط گفتار" style="background:#fff;color:var(--primary);border:1px solid #e6e9ef;padding:8px;border-radius:8px;">🎤</button>
    </div>
  </div>

  <script>
    /******************************************************************
     * کلاینت-محور: "مغز" داخل همین اسکریپت است
     * قابلیت‌ها: چندزبانه، فینگلش، fuzzy matching، یادگیری، TTS/STT،
     * quick replies، ذخیره محلی، fallback پاسخ آزمایشی.
     ******************************************************************/
    // تنظیمات اولیه
    const MAX_HISTORY = 200;
    const KNOWN_SERVICES = ["طراحی سایت","سئو","تولید محتوا","پشتیبانی","مشاوره","سفارش","پرداخت","تبلیغات گوگل","طراحی لوگو","اپلیکیشن"];
    const DEFAULT_LANG = 'fa-IR';

    // عناصر UI
    const chatbox = document.getElementById('chatbox');
    const openFab = document.getElementById('openFab');
    const closeBtn = document.getElementById('closeBtn');
    const minimizeBtn = document.getElementById('minimizeBtn');
    const chatlog = document.getElementById('chatlog');
    const chatinput = document.getElementById('chatinput');
    const sendBtn = document.getElementById('sendBtn');
    const voiceBtn = document.getElementById('voiceBtn');

    // حافظه محلی
    let memory = JSON.parse(localStorage.getItem('roham_memory') || '[]');
    let learned = JSON.parse(localStorage.getItem('roham_learned') || '{}');
    let langPref = localStorage.getItem('roham_lang_pref') || 'auto';
    let finglishEnabled = localStorage.getItem('roham_finglish') === '1';
    let voiceEnabled = localStorage.getItem('roham_voice_enabled') === '1';

    // ابزارها: escape، levenshtein، translit فینگلش
    function escapeHtml(s){ return String(s||'').replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"})[m]); }
    function levenshtein(a,b){ a=a||''; b=b||''; const al=a.length, bl=b.length; if(!al) return bl; if(!bl) return al; const dp=new Array(bl+1); for(let j=0;j<=bl;j++) dp[j]=j; for(let i=1;i<=al;i++){ let prev=dp[0]; dp[0]=i; for(let j=1;j<=bl;j++){ let cur=dp[j]; const cost=a[i-1]===b[j-1]?0:1; dp[j]=Math.min(dp[j]+1, dp[j-1]+1, prev+cost); prev=cur; } } return dp[bl]; }
    function fuzzyFind(word, list){ let best=list[0], min=levenshtein(word,best); for(let i=1;i<list.length;i++){ const d=levenshtein(word,list[i]); if(d<min){ min=d; best=list[i]; } } return {best,dist:min}; }

    function finglishToFa(s){
      if(!s) return s;
      let t = String(s);
      t = t.replace(/KH/gi,'خ').replace(/GH/gi,'غ').replace(/SH/gi,'ش').replace(/CH/gi,'چ');
      const map = [['kh','خ'],['gh','غ'],['sh','ش'],['ch','چ'],['ph','ف'],['zh','ژ'],['oo','و'],['ou','و'],['ee','ی'],['a','ا'],['â','ا'],['e','e'],['o','o'],['u','و'],['i','ی'],['y','ی']];
      for(const [k,v] of map) t = t.replace(new RegExp(k,'gi'), v);
      return t.replace(/\s+/g,' ').trim();
    }

    // نمایش پیام در رابط
    function appendMessage(who, text){
      const wrapper = document.createElement('div');
      wrapper.className = 'cb-msg ' + (who === 'user' ? 'user' : 'bot');
      const bubble = document.createElement('div');
      bubble.className = 'bubble';
      bubble.innerHTML = `<strong>${who === 'user' ? 'شما' : 'راهنما'}:</strong> ${escapeHtml(text)}`;
      wrapper.appendChild(bubble);
      chatlog.appendChild(wrapper);
      chatlog.scrollTop = chatlog.scrollHeight;
    }

    // بارگذاری حافظه
    function loadMemory(){
      chatlog.innerHTML = '';
      if(Array.isArray(memory) && memory.length){
        memory.forEach(m => { appendMessage('user', m.user); appendMessage('bot', m.bot); });
      } else {
        appendMessage('bot','سلام! من راهنمای هوشمند سایت هستم. اگر فینگلش استفاده می‌کنی فعالش کن: finglish:on');
      }
    }
    loadMemory();

    // وضعیت باز/بسته/مینیمایز
    function openChat(){ chatbox.style.display='flex'; chatbox.setAttribute('aria-hidden','false'); openFab.style.display='none'; localStorage.setItem('roham_chat_open','1'); chatinput.focus(); }
    function closeChat(){ chatbox.style.display='none'; chatbox.setAttribute('aria-hidden','true'); openFab.style.display='inline-flex'; localStorage.setItem('roham_chat_open','0'); }
    function toggleMin(){ if(chatbox.classList.contains('minimized')){ chatbox.classList.remove('minimized'); minimizeBtn.textContent='—'; localStorage.setItem('roham_chat_min','0'); } else { chatbox.classList.add('minimized'); minimizeBtn.textContent='+'; localStorage.setItem('roham_chat_min','1'); } }

    openFab.addEventListener('click', openChat);
    closeBtn.addEventListener('click', closeChat);
    minimizeBtn.addEventListener('click', toggleMin);

    if(localStorage.getItem('roham_chat_open') === '1') openChat();
    if(localStorage.getItem('roham_chat_min') === '1'){ chatbox.classList.add('minimized'); minimizeBtn.textContent='+'; }

    // شناسایی نیت و احساس و پاسخ‌دهی کلاینتی پیشرفته
    const KEYWORDS = {
      greeting: ["سلام","درود","خوش اومدی","خوبی","چطوری"],
      farewell: ["خداحافظ","بای","فعلاً"],
      identity: ["کی هستی","تو کی‌ای","چه کسی هستی"],
      price: ["قیمت","هزینه","چنده"],
      support: ["پشتیبانی","کمک","مشکل"]
    };

    function detectIntent(text){
      const t = text.toLowerCase();
      for(const k in KEYWORDS) if(KEYWORDS[k].some(w => t.includes(w))) return k;
      return null;
    }
    function detectEmotion(text){
      if(text.includes('😡')||text.includes('عصبانی')) return 'angry';
      if(text.includes('😊')||text.includes('خوشحال')) return 'happy';
      if(text.includes('😢')||text.includes('ناراحت')) return 'sad';
      return 'neutral';
    }

    // هسته پاسخ‌ساز "مغز کلاینت" — ترکیبی از قواعد، fuzzy، یادگیری و fallback هوشمند
    function clientBrain(rawText){
      let text = rawText.trim();
      if(!text) return "لطفاً چیزی بنویس.";

      // دستورات تنظیم
      const langCmd = text.match(/^lang\s*:\s*([a-zA-Z-]+)/i);
      const fingCmd = text.match(/^finglish\s*:\s*(on|off)/i);
      const learnCmd = text.match(/^یاد بگیر\s+"(.+)"\s+پاسخ\s+"(.+)"$/i);

      if(langCmd){ langPref = langCmd[1]; localStorage.setItem('roham_lang_pref', langPref); return `زبان تنظیم شد به ${langPref}`; }
      if(fingCmd){ finglishEnabled = fingCmd[1].toLowerCase() === 'on'; localStorage.setItem('roham_finglish', finglishEnabled ? '1' : '0'); return `فینگلش ${finglishEnabled ? 'فعال' : 'غیرفعال'} شد`; }

      if(learnCmd){
        const key = preprocess(learnCmd[1]);
        learned[key] = learnCmd[2];
        localStorage.setItem('roham_learned', JSON.stringify(learned));
        return `یاد گرفتم: وقتی گفتی "${learnCmd[1]}", پاسخ: "${learnCmd[2]}"`;
      }

      // فینگلش
      if(finglishEnabled) text = finglishToFa(text);

      const cleaned = preprocess(text);

      // پاسخ از learned
      if(learned[cleaned]) return learned[cleaned];

      // نیت و پاسخ قواعدی
      const intent = detectIntent(cleaned);
      if(intent === 'greeting') return 'سلام! چطور می‌تونم کمکت کنم؟';
      if(intent === 'farewell') return 'خداحافظ! هر وقت خواستی برگرد.';
      if(intent === 'identity') return 'من راهنمای هوشمند سایت هستم؛ می‌تونم خدمات، قیمت و راه تماس رو بگم.';
      if(intent === 'price') return 'برای قیمت دقیق لطفاً بگو چه خدمتی می‌خوای یا فرم تماس را پر کن.';
      if(intent === 'support') return 'برای پشتیبانی، لطفاً مشکل را توضیح بده یا به بخش تماس مراجعه کن.';

      // fuzzy match با خدمات
      const words = cleaned.split(/\s+/).filter(Boolean);
      for(const w of words){
        const {best,dist} = fuzzyFind(w, KNOWN_SERVICES);
        if(dist <= 2) return `ما خدمات ${best} ارائه می‌دهیم. برای جزئیات لطفاً فرم تماس را تکمیل کن.`;
      }

      // quick heuristic for questions in other languages (very simple)
      if(/[a-zA-Z]/.test(rawText) && !(langPref && langPref !== 'auto')) return "I detected English text; try prefixing 'lang: en' to set language preference.";

      // fallback "مغز بزرگ" محلی: خلاصه‌سازی و پاسخ ترکیبی
      return smartFallback(cleaned);
    }

    // پیش‌پردازش ساده
    function preprocess(s){ return String(s||'').toLowerCase().replace(/[؟?!.,،؛"]/g,'').trim(); }

    // پاسخ fallback پیشرفته (قواعد و ترکیب پاسخ)
    function smartFallback(cleaned){
      // اگر سوال باشد با '؟' یا کلمات سوالی
      const qWords = ['چی','چه','چطور','چرا','کی','کجا','چه‌طور','how','what','why','when','where'];
      if(qWords.some(q => cleaned.includes(q))) {
        // تلاش برای تشخیص موضوع با fuzzy
        for(const svc of KNOWN_SERVICES){
          if(cleaned.includes(svc) || levenshtein(cleaned, svc) <= 4) return `در مورد ${svc} می‌تونی اینجا اطلاعات بیشتری بگیری یا بپرسی که چه ویژگی‌هایی مد نظرته.`;
        }
        // اگر نشد، آفرینی ترکیبی
        return 'سؤال خوبی هست؛ می‌تونی کمی دقیق‌تر بپرسی یا بنویس که قصدت چیه تا بهتر راهنمایی کنم.';
      }
      // اگر جمله توضیحی است
      if(cleaned.split(' ').length > 5) return 'متشکرم از توضیحت؛ می‌تونی بگی دنبال چه نتیجه‌ای هستی تا من دقیق‌تر کمک کنم؟';
      // Otherwise prompt learning
      return 'متوجه نشدم؛ می‌خوای به من یاد بدی چطور جواب بدم؟ بنویس: یاد بگیر "جمله" پاسخ "پاسخ دلخواه"';
    }

    // ارسال پیام توسط کاربر
    function sendChat(){
      const text = chatinput.value.trim();
      if(!text) return;
      appendMessage('user', text);
      chatinput.value = '';

      // اگر کاربر خواست quick replies و دکمه‌ها نمایش داده شوند
      const botReply = clientBrain(text);
      const emotion = detectEmotion(text);
      let finalReply = botReply;
      if(emotion === 'angry') finalReply += ' 😬 ببخشید اگه ناراحتت کردم.';
      if(emotion === 'happy') finalReply += ' 😊 خوشحالم که حالت خوبه!';
      if(emotion === 'sad') finalReply += ' 😢 امیدوارم بهتر بشی.';

      memory.push({ user: text, bot: finalReply });
      memory = memory.slice(-MAX_HISTORY);
      localStorage.setItem('roham_memory', JSON.stringify(memory));
      localStorage.setItem('roham_learned', JSON.stringify(learned));

      appendMessage('bot', finalReply);
      // quick replies: مثال‌های مرتبط
      showQuickReplies(generateQuick(finalReply));
      if(voiceEnabled) speak(finalReply);
    }

    // تولید دکمه‌های سریع پیشنهادی
    function generateQuick(reply){
      const qs = [];
      if(reply.includes('خدمات') || reply.includes('خدمت')) qs.push('قیمت خدمات'); 
      if(reply.includes('تماس')) qs.push('فرم تماس'); 
      if(reply.includes('سوال')) qs.push('جزئیات بیشتر'); 
      qs.push('تماس با پشتیبانی'); qs.push('راه اندازی سفارش');
      return qs.slice(0,5);
    }
    function showQuickReplies(list){
      // remove existing quick row
      const prev = document.querySelector('.quick-row'); if(prev) prev.remove();
      if(!list || !list.length) return;
      const row = document.createElement('div'); row.className='quick-row';
      list.forEach(t => {
        const b = document.createElement('button'); b.className='quick-btn'; b.textContent=t;
        b.addEventListener('click', ()=>{ chatinput.value = t; sendChat(); });
        row.appendChild(b);
      });
      chatlog.appendChild(row);
      chatlog.scrollTop = chatlog.scrollHeight;
    }

    // TTS
    function speak(text){
      if(!('speechSynthesis' in window)) return;
      const u = new SpeechSynthesisUtterance(text);
      const lang = (langPref && langPref !== 'auto') ? langPref : DEFAULT_LANG;
      u.lang = lang;
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(u);
    }

    // STT (Speech-to-text)
    let recognition = null;
    if('webkitSpeechRecognition' in window || 'SpeechRecognition' in window){
      const Rec = window.SpeechRecognition || window.webkitSpeechRecognition;
      recognition = new Rec();
      recognition.lang = DEFAULT_LANG;
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;
      recognition.onresult = (e) => {
        const text = e.results[0][0].transcript;
        chatinput.value = chatinput.value ? chatinput.value + ' ' + text : text;
        chatinput.focus();
      };
      recognition.onerror = ()=>{};
    }

    voiceBtn.addEventListener('dblclick', ()=>{ if(!recognition) return alert('ضبط گفتار در مرورگر شما پشتیبانی نمی‌شود.'); recognition.start(); });
    voiceBtn.addEventListener('click', ()=>{ voiceEnabled = !voiceEnabled; localStorage.setItem('roham_voice_enabled', voiceEnabled ? '1' : '0'); voiceBtn.textContent = voiceEnabled ? '🔊' : '🎤'; });

    if(voiceEnabled) voiceBtn.textContent='🔊';

    // میانبرهای صفحه‌کلید
    sendBtn.addEventListener('click', sendChat);
    chatinput.addEventListener('keydown', e => { if(e.key === 'Enter') sendChat(); });
    window.addEventListener('keydown', e => { if(e.shiftKey && e.key === '?'){ openChat(); chatinput.focus(); } if(e.key === 'Escape'){ if(chatbox.style.display !== 'none') closeChat(); } });

    // init UI state
    if(localStorage.getItem('roham_chat_open') === '1') openChat();
    if(localStorage.getItem('roham_chat_min') === '1'){ chatbox.classList.add('minimized'); minimizeBtn.textContent='+'; }

    // util: quick "clear"
    function clearMemory(){ memory=[]; localStorage.removeItem('roham_memory'); chatlog.innerHTML=''; loadMemory(); }

    // small helper to generate contextual actions (ex: scroll to contact)
    function tryContextActions(text){
      if(text.includes('تماس') || text.includes('contact')) {
        const el = document.getElementById('contact'); if(el) el.scrollIntoView({behavior:'smooth'});
      }
    }

    // Expose some debug helpers in console
    window.rohamDebug = { memory, learned, clearMemory, setFinglish:on=>{ finglishEnabled=on; localStorage.setItem('roham_finglish', on? '1':'0'); } };

  </script>

</body>
</html>
