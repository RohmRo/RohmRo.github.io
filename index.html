<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="سایت شخصی رهام | برنامه‌نویس و متخصص هوش مصنوعی، طراحی وب و چت‌بات‌های هوشمند" />
  <meta name="author" content="Roham" />
  <title>Roham prog</title>

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />

  <!-- Font Awesome -->
  <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>

  <!-- فونت فارسی -->
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;700&display=swap" rel="stylesheet" />

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- استایل اصلی شما (در صورتی که موجود است) -->
  <link href="styles.css" rel="stylesheet" />

  <!-- استایل جدید هِرو و افکت‌ها (همیشه بعد از styles.css قرار گیرد) -->
  <link href="hero-glitch.css" rel="stylesheet" />
</head>
<body id="page-top">
<!-- decorative background (Glitch-like) - single instance -->
<div class="glitch-bg" aria-hidden="true">
  <canvas id="glitch-canvas" aria-hidden="true"></canvas>
  <div class="nebula-layer" aria-hidden="true"></div>
  <div class="floating-bubbles" aria-hidden="true">
    <span class="bubble b1" aria-hidden="true"></span>
    <span class="bubble b2" aria-hidden="true"></span>
    <span class="bubble b3" aria-hidden="true"></span>
    <span class="bubble b4" aria-hidden="true"></span>
  </div>
  <div class="grain" aria-hidden="true"></div>
</div>  
  <!-- ناوبری -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="#page-top">
        <img src="assets/img/navbar-logo.svg" alt="لوگو" class="logo" />
        <span class="brand-text">Roham prog</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive"
              aria-controls="navbarResponsive" aria-expanded="false" aria-label="باز کردن منو">
        منو <i class="fas fa-bars ms-1"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav text-uppercase ms-auto py-4 py-lg-0">
          <li class="nav-item"><a class="nav-link" href="#services">خدمات</a></li>
          <li class="nav-item"><a class="nav-link" href="#portfolio">نمونه‌کارها</a></li>
          <li class="nav-item"><a class="nav-link" href="#about">درباره من</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact">تماس</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- هِرو حالت Split (شبیه Glitch signin) -->
  <header class="masthead split" id="home">
    <!-- پنل چپ: کانواس و متن توصیفی -->
    <div class="left-panel" aria-hidden="false">
      <canvas id="bg-canvas"></canvas>
      <div class="left-overlay">
        <h2 class="left-title">خلق ایده، اجرا کردن وب</h2>
        <p class="left-desc">پلتفرم من برای ساخت پروژه‌های مدرن و هوشمند</p>
      </div>
    </div>

    <!-- پنل راست: کارت اکشن -->
    <div class="right-panel">
      <div class="auth-card glass-card auth-card">
        <div class="brand-row">
          <img src="assets/img/navbar-logo.svg" alt="لوگو" class="brand-logo" />
          <span class="brand-name">Roham prog</span>
        </div>

        <h1 class="glitch" data-text="ROHAM PROG">ROHAM PROG</h1>
        <p class="lead">برنامه‌نویس و متخصص هوش مصنوعی</p>

        <div class="card-actions">
          <a class="btn btn-cta" href="#portfolio">مشاهده نمونه‌کار</a>
          <button class="btn btn-ghost" data-bs-toggle="modal" data-bs-target="#contactModal">تماس با من</button>
        </div>

        <div class="auth-footer">
          <small>یا ادامه با</small>
          <div class="socials mt-2">
            <button class="social-btn github" aria-label="ورود با گیت‌هاب"><i class="fab fa-github"></i></button>
            <button class="social-btn google" aria-label="ورود با گوگل"><i class="fab fa-google"></i></button>
          </div>
        </div>

        <div class="glow-spot g1" aria-hidden="true"></div>
        <div class="glow-spot g2" aria-hidden="true"></div>
      </div>
    </div>
  </header>
        <!-- Services-->
      <section class="page-section" id="services">
  <div class="container">
    <div class="text-center">
      <h2 class="section-heading text-uppercase">خدمات من</h2>
      <h3 class="section-subheading text-muted">مهارت‌هایی که با عشق و دقت ارائه می‌دم</h3>
    </div>
    <div class="row text-center">
      <div class="col-md-4">
        <span class="fa-stack fa-4x">
          <i class="fas fa-circle fa-stack-2x text-primary"></i>
          <i class="fas fa-code fa-stack-1x fa-inverse"></i>
        </span>
        <h4 class="my-3">طراحی و توسعه وب</h4>
        <p class="text-muted">ساخت وب‌سایت‌های واکنش‌گرا، سریع و حرفه‌ای با تمرکز بر تجربه کاربری و زیبایی بصری.</p>
      </div>
      <div class="col-md-4">
        <span class="fa-stack fa-4x">
          <i class="fas fa-circle fa-stack-2x text-primary"></i>
          <i class="fas fa-robot fa-stack-1x fa-inverse"></i>
        </span>
        <h4 class="my-3">هوش مصنوعی و چت‌بات‌ها</h4>
        <p class="text-muted">طراحی چت‌بات‌های هوشمند با شخصیت و تعامل طبیعی، مبتنی بر مدل‌های یادگیری ماشین.</p>
      </div>
      <div class="col-md-4">
        <span class="fa-stack fa-4x">
          <i class="fas fa-circle fa-stack-2x text-primary"></i>
          <i class="fas fa-magic fa-stack-1x fa-inverse"></i>
        </span>
        <h4 class="my-3">ادیت عکس و ویدیو</h4>
        <p class="text-muted">ویرایش خلاقانه تصاویر و ویدیوها با استفاده از ابزارهای هوش مصنوعی و جلوه‌های ویژه.</p>
      </div>
    </div>
    <div class="row text-center mt-5">
      <div class="col-md-12">
        <span class="fa-stack fa-4x">
          <i class="fas fa-circle fa-stack-2x text-primary"></i>
          <i class="fas fa-brain fa-stack-1x fa-inverse"></i>
        </span>
        <h4 class="my-3">پروژه‌های سفارشی هوش مصنوعی</h4>
        <p class="text-muted">طراحی و پیاده‌سازی انواع سیستم‌های هوشمند متناسب با نیازهای خاص شما—از تحلیل داده تا اتوماسیون.</p>
      </div>
    </div>
  </div>
</section>
        <!-- Portfolio Grid-->
<!-- بخش نمونه‌کارها -->
<!-- نمونه‌کارها -->
<section class="page-section bg-light" id="portfolio" dir="rtl" lang="fa">
  <div class="container">
    <div class="text-center">
      <h2 class="section-heading text-uppercase">نمونه‌کارها</h2>
      <h3 class="section-subheading text-muted">پروژه‌هایی که با عشق، تخصص و خلاقیت اجرا کرده‌ام</h3>
    </div>

    <div class="row">
      <!-- پروژه 1 -->
      <div class="col-lg-4 col-sm-6 mb-4">
        <div class="portfolio-item">
          <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal1" role="button" aria-controls="portfolioModal1" aria-label="باز کردن جزئیات چت‌بات فروش">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x" aria-hidden="true"></i></div>
            </div>
            <img class="img-fluid" src="assets/img/portfolio/1.jpg" alt="چت‌بات فروش" />
          </a>
          <div class="portfolio-caption">
            <div class="portfolio-caption-heading">چت‌بات فروش</div>
            <div class="portfolio-caption-subheading text-muted">طراحی تجربه کاربری هوشمند</div>
          </div>
        </div>
      </div>

      <!-- پروژه 2 -->
      <div class="col-lg-4 col-sm-6 mb-4">
        <div class="portfolio-item">
          <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal2" role="button" aria-controls="portfolioModal2" aria-label="باز کردن جزئیات مدیریت پروژه">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x" aria-hidden="true"></i></div>
            </div>
            <img class="img-fluid" src="assets/img/portfolio/2.jpg" alt="مدیریت پروژه" />
          </a>
          <div class="portfolio-caption">
            <div class="portfolio-caption-heading">مدیریت پروژه</div>
            <div class="portfolio-caption-subheading text-muted">طراحی رابط کاربری واکنش‌گرا</div>
          </div>
        </div>
      </div>

      <!-- پروژه 3 -->
      <div class="col-lg-4 col-sm-6 mb-4">
        <div class="portfolio-item">
          <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal3" role="button" aria-controls="portfolioModal3" aria-label="باز کردن جزئیات تشخیص احساسات">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x" aria-hidden="true"></i></div>
            </div>
            <img class="img-fluid" src="assets/img/portfolio/3.jpg" alt="تشخیص احساسات" />
          </a>
          <div class="portfolio-caption">
            <div class="portfolio-caption-heading">تشخیص احساسات</div>
            <div class="portfolio-caption-subheading text-muted">تحلیل داده با هوش مصنوعی</div>
          </div>
        </div>
      </div>

      <!-- پروژه 4 -->
      <div class="col-lg-4 col-sm-6 mb-4 mb-lg-0">
        <div class="portfolio-item">
          <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal4" role="button" aria-controls="portfolioModal4" aria-label="باز کردن جزئیات طراحی لوگو">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x" aria-hidden="true"></i></div>
            </div>
            <img class="img-fluid" src="assets/img/portfolio/4.jpg" alt="طراحی لوگو" />
          </a>
          <div class="portfolio-caption">
            <div class="portfolio-caption-heading">طراحی لوگو</div>
            <div class="portfolio-caption-subheading text-muted">هویت بصری و برندسازی</div>
          </div>
        </div>
      </div>

      <!-- پروژه 5 -->
      <div class="col-lg-4 col-sm-6 mb-4 mb-sm-0">
        <div class="portfolio-item">
          <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal5" role="button" aria-controls="portfolioModal5" aria-label="باز کردن جزئیات نمونه‌کارهای آنلاین">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x" aria-hidden="true"></i></div>
            </div>
            <img class="img-fluid" src="assets/img/portfolio/5.jpg" alt="نمونه‌کارهای آنلاین" />
          </a>
          <div class="portfolio-caption">
            <div class="portfolio-caption-heading">نمونه‌کارهای آنلاین</div>
            <div class="portfolio-caption-subheading text-muted">طراحی وب‌سایت‌های حرفه‌ای</div>
          </div>
        </div>
      </div>

      <!-- پروژه 6 -->
      <div class="col-lg-4 col-sm-6">
        <div class="portfolio-item">
          <a class="portfolio-link" data-bs-toggle="modal" href="#portfolioModal6" role="button" aria-controls="portfolioModal6" aria-label="باز کردن جزئیات عکاسی صنعتی">
            <div class="portfolio-hover">
              <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x" aria-hidden="true"></i></div>
            </div>
            <img class="img-fluid" src="assets/img/portfolio/6.jpg" alt="عکاسی صنعتی" />
          </a>
          <div class="portfolio-caption">
            <div class="portfolio-caption-heading">عکاسی صنعتی</div>
            <div class="portfolio-caption-subheading text-muted">ویرایش حرفه‌ای و جلوه‌های ویژه</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- مودال 1: چت‌بات فروش -->
<div class="modal fade" id="portfolioModal1" tabindex="-1" aria-labelledby="portfolioModal1Label" aria-hidden="true" dir="rtl" lang="fa">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="portfolioModal1Label">چت‌بات فروش — سامانه سفارش و پشتیبانی</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
      </div>
      <div class="modal-body">
        <img src="assets/img/portfolio/1.jpg" class="img-fluid mb-3" alt="چت‌بات فروش">
        <h6>خلاصه پروژه</h6>
        <p>طراحی و پیاده‌سازی یک چت‌بات فروش که مشتریان را در انتخاب محصول، پردازش سفارش و پشتیبانی پس از فروش همراهی می‌کند. چت‌بات قابلیت اتصال به درگاه پرداخت، ارسال فاکتور و پاسخ‌دهی خودکار به پرسش‌های متداول را دارد.</p>
        <h6>نقش من</h6>
        <p>تحلیل نیازها، طراحی جریان گفتگو، پیاده‌سازی منطق سرور، و یکپارچه‌سازی با API درگاه پرداخت و پیام‌رسان‌ها.</p>
        <h6>نتیجه و دستاوردها</h6>
        <ul>
          <li>افزایش نرخ تبدیل بازدیدکننده به خریدار تا 22٪.</li>
          <li>کاهش حجم تماس‌های پشتیبانی به‌خاطر پاسخ‌های خودکار.</li>
          <li>یکپارچگی با تلگرام و واتساپ برای ارسال اعلان سفارش.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <a href="#portfolio" class="btn btn-secondary" data-bs-dismiss="modal">بازگشت</a>
        <a href="#" class="btn btn-primary" target="_blank" rel="noopener">مشاهده پروژه</a>
      </div>
    </div>
  </div>
</div>

<!-- مودال 2: مدیریت پروژه -->
<div class="modal fade" id="portfolioModal2" tabindex="-1" aria-labelledby="portfolioModal2Label" aria-hidden="true" dir="rtl" lang="fa">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="portfolioModal2Label">پلتفرم مدیریت پروژه — داشبورد تیمی</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
      </div>
      <div class="modal-body">
        <img src="assets/img/portfolio/2.jpg" class="img-fluid mb-3" alt="مدیریت پروژه">
        <h6>خلاصه پروژه</h6>
        <p>ساخت داشبورد مدیریت پروژه با تمرکز بر تسک‌برد، گزارش‌گیری و پیگیری زمان. هدف کاهش پیچیدگی مدیریت تیم‌های کوچک و بهبود شفافیت در تخصیص وظایف بوده است.</p>
        <h6>نقش من</h6>
        <p>طراحی UI/UX واکنش‌گرا، پیاده‌سازی قسمت گزارش‌دهی و اتصال به سرویس‌های احراز هویت سازمانی.</p>
        <h6>نتیجه و دستاوردها</h6>
        <ul>
          <li>کاهش زمان چرخه توسعه با بهبود فرایند تخصیص وظایف.</li>
          <li>افزایش رضایت تیمی به‌واسطه داشبورد شفاف.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <a href="#portfolio" class="btn btn-secondary" data-bs-dismiss="modal">بازگشت</a>
        <a href="#" class="btn btn-primary" target="_blank" rel="noopener">مشاهده پروژه</a>
      </div>
    </div>
  </div>
</div>

<!-- مودال 3: تشخیص احساسات -->
<div class="modal fade" id="portfolioModal3" tabindex="-1" aria-labelledby="portfolioModal3Label" aria-hidden="true" dir="rtl" lang="fa">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="portfolioModal3Label">سامانه تشخیص احساسات — تحلیل بازخورد</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
      </div>
      <div class="modal-body">
        <img src="assets/img/portfolio/3.jpg" class="img-fluid mb-3" alt="تشخیص احساسات">
        <h6>خلاصه پروژه</h6>
        <p>پیاده‌سازی مدل‌های پردازش زبان طبیعی برای تحلیل بازخورد مشتریان و دسته‌بندی احساسات مثبت، منفی و خنثی. داشبوردی برای مشاهده ترندها و استخراج نقاط بحرانی طراحی شد.</p>
        <h6>نقش من</h6>
        <p>آماده‌سازی داده، آموزش مدل، و توسعه API برای سرویس تحلیل در مقیاس واقعی.</p>
        <h6>نتیجه و دستاوردها</h6>
        <ul>
          <li>شناسایی الگوهای نارضایتی که منجر به بهبود محصول شد.</li>
          <li>امکان گزارش هفتگی احساسات مشتریان برای مدیریت.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <a href="#portfolio" class="btn btn-secondary" data-bs-dismiss="modal">بازگشت</a>
        <a href="#" class="btn btn-primary" target="_blank" rel="noopener">مشاهده پروژه</a>
      </div>
    </div>
  </div>
</div>

<!-- مودال 4: طراحی لوگو -->
<div class="modal fade" id="portfolioModal4" tabindex="-1" aria-labelledby="portfolioModal4Label" aria-hidden="true" dir="rtl" lang="fa">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="portfolioModal4Label">پکیج هویت بصری — طراحی لوگو</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
      </div>
      <div class="modal-body">
        <img src="assets/img/portfolio/4.jpg" class="img-fluid mb-3" alt="طراحی لوگو">
        <h6>خلاصه پروژه</h6>
        <p>طراحی لوگو و هویت بصری برای کسب‌وکارهای نوپا با توجه به پیام برند و بازار هدف. شامل نسخه‌های رنگی، تک‌رنگ و راهنمای استفاده است.</p>
        <h6>نقش من</h6>
        <p>تحلیل برند، طراحی اولیه، بازنگری با مشتری و آماده‌سازی فایل‌های نهایی برای چاپ و وب.</p>
        <h6>نتیجه و دستاوردها</h6>
        <ul>
          <li>تحویل بسته کامل هویت بصری همراه با راهنمای استفاده.</li>
          <li>هماهنگی با تیم بازاریابی برای توسعه پیام برند.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <a href="#portfolio" class="btn btn-secondary" data-bs-dismiss="modal">بازگشت</a>
        <a href="#" class="btn btn-primary" target="_blank" rel="noopener">مشاهده پروژه</a>
      </div>
    </div>
  </div>
</div>

<!-- مودال 5: نمونه‌کارهای آنلاین -->
<div class="modal fade" id="portfolioModal5" tabindex="-1" aria-labelledby="portfolioModal5Label" aria-hidden="true" dir="rtl" lang="fa">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="portfolioModal5Label">وب‌سایت‌های حرفه‌ای — نمونه‌کارهای آنلاین</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
      </div>
      <div class="modal-body">
        <img src="assets/img/portfolio/5.jpg" class="img-fluid mb-3" alt="نمونه‌کارهای آنلاین">
        <h6>خلاصه پروژه</h6>
        <p>طراحی و توسعه وب‌سایت‌های شرکتی و فروشگاهی با تاکید بر سرعت بارگذاری، سئو پایه و تجربه کاربری. پیاده‌سازی ریسپانسیو برای تمام دستگاه‌ها انجام شد.</p>
        <h6>نقش من</h6>
        <p>برنامه‌نویسی فرانت‌اند، پیاده‌سازی بک‌اند ساده و استقرار روی هاست/CI.</p>
        <h6>نتیجه و دستاوردها</h6>
        <ul>
          <li>افزایش سرعت لود صفحات و بهبود امتیاز Core Web Vitals.</li>
          <li>تحویل پنل مدیریت ساده برای مشتریان.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <a href="#portfolio" class="btn btn-secondary" data-bs-dismiss="modal">بازگشت</a>
        <a href="#" class="btn btn-primary" target="_blank" rel="noopener">مشاهده پروژه</a>
      </div>
    </div>
  </div>
</div>

<!-- مودال 6: عکاسی صنعتی -->
<div class="modal fade" id="portfolioModal6" tabindex="-1" aria-labelledby="portfolioModal6Label" aria-hidden="true" dir="rtl" lang="fa">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="portfolioModal6Label">عکاسی صنعتی و ادیت حرفه‌ای</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
      </div>
      <div class="modal-body">
        <img src="assets/img/portfolio/6.jpg" class="img-fluid mb-3" alt="عکاسی صنعتی">
        <h6>خلاصه پروژه</h6>
        <p>عکاسی از محصولات و محیط کار صنعتی، ویرایش رنگ و نور، و آماده‌سازی تصاویر برای کاتالوگ و وب‌سایت. تمرکز بر نمایش واضح جزئیات و ارتقای جذابیت بصری محصول بود.</p>
        <h6>نقش من</h6>
        <p>سِت‌آپ نور، عکاسی، ویرایش نهایی و تحویل فرمت‌های مناسب وب و چاپ.</p>
        <h6>نتیجه و دستاوردها</h6>
        <ul>
          <li>افزایش تعامل صفحات محصول و درخواست‌های بی‌واسطه از مشتریان.</li>
          <li>تحویل تصاویر با کیفیت چاپ و نسخه‌های بهینه‌شده برای وب.</li>
        </ul>
      </div>
      <div class="modal-footer">
        <a href="#portfolio" class="btn btn-secondary" data-bs-dismiss="modal">بازگشت</a>
        <a href="#" class="btn btn-primary" target="_blank" rel="noopener">مشاهده پروژه</a>
      </div>
    </div>
  </div>
</div>
        <!-- About-->
 <section class="page-section bg-light" id="about">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="section-heading text-uppercase">درباره من</h2>
      <h3 class="section-subheading text-muted">برنامه‌نویس و متخصص هوش مصنوعی</h3>
    </div>
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card shadow-lg border-0 rounded-4">
          <div class="card-body p-4">
            <p class="text-muted" style="font-size:16px; line-height:1.9;">
              من یک توسعه‌دهنده وب و متخصص هوش مصنوعی هستم. در سال 2023 موفق به کسب رتبه ششم در رقابت‌های برنامه‌نویسی ترکیه شدم.  
              سابقه کاری من شامل طراحی و پیاده‌سازی سیستم‌های هوشمند، توسعه وب‌سایت‌های واکنش‌گرا، و حل مسائل پیچیده با استفاده از الگوریتم‌های یادگیری ماشین است.  
              تمرکز اصلی من بر ساخت راه‌حل‌های کاربردی و قابل توسعه برای بهینه‌سازی فرآیندهای دیجیتال و ارتقای تجربه کاربری است.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section> 
        <!-- Team-->
<!-- Clients -->
<div class="py-5">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-3 col-sm-6 my-3">
        <a href="#!">
          <img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/microsoft.svg" alt="Microsoft Logo" />
        </a>
      </div>
      <div class="col-md-3 col-sm-6 my-3">
        <a href="#!">
          <img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/google.svg" alt="Google Logo" />
        </a>
      </div>
      <div class="col-md-3 col-sm-6 my-3">
        <a href="#!">
          <img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/facebook.svg" alt="Facebook Logo" />
        </a>
      </div>
      <div class="col-md-3 col-sm-6 my-3">
        <a href="#!">
          <img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/ibm.svg" alt="IBM Logo" />
        </a>
      </div>
    </div>
  </div>
</div>
        <!-- Clients-->
        <div class="py-5">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="#!"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/microsoft.svg" alt="..." aria-label="Microsoft Logo" /></a>
                    </div>
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="#!"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/google.svg" alt="..." aria-label="Google Logo" /></a>
                    </div>
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="#!"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/facebook.svg" alt="..." aria-label="Facebook Logo" /></a>
                    </div>
                    <div class="col-md-3 col-sm-6 my-3">
                        <a href="#!"><img class="img-fluid img-brand d-block mx-auto" src="assets/img/logos/ibm.svg" alt="..." aria-label="IBM Logo" /></a>
                    </div>
                </div>
            </div>
        </div>
        <!-- Contact-->
<section class="page-section" id="contact">
  <div class="container">
    <div class="text-center">
      <h2 class="section-heading text-uppercase">تماس با من</h2>
      <h3 class="section-subheading text-muted">برای همکاری یا مشاوره، خوشحال می‌شم در ارتباط باشیم</h3>
    </div>
    <form id="contactForm" data-sb-form-api-token="API_TOKEN">
      <div class="row align-items-stretch mb-3">
        <div class="col-md-6">
          <div class="form-group">
            <input class="form-control" id="name" type="text" placeholder="نام شما *" required />
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <input class="form-control" id="email" type="email" placeholder="ایمیل شما *" required />
          </div>
        </div>
      </div>
      <div class="row align-items-stretch mb-3">
        <div class="col-md-12">
          <div class="form-group">
            <input class="form-control" id="phone" type="tel" placeholder="شماره تماس *" required />
          </div>
        </div>
      </div>
      <div class="form-group mb-3">
        <textarea class="form-control" id="message" rows="5" placeholder="پیام شما *" required></textarea>
      </div>
      <div class="text-center">
        <button class="btn btn-primary btn-xl text-uppercase" type="submit">ارسال پیام</button>
      </div>
    </form>
  </div>
</section>
        <!-- Footer-->
        <footer class="footer py-4">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-4 text-lg-start">Copyright &copy; Your Website 2023</div>
                    <div class="col-lg-4 my-3 my-lg-0">
                        <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                    <div class="col-lg-4 text-lg-end">
                        <a class="link-dark text-decoration-none me-3" href="#!">Privacy Policy</a>
                        <a class="link-dark text-decoration-none" href="#!">Terms of Use</a>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Portfolio Modals-->
        <!-- Portfolio item 1 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Project Name</h2>
                                    <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/portfolio/1.jpg" alt="..." />
                                    <p>Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                                    <ul class="list-inline">
                                        <li>
                                            <strong>Client:</strong>
                                            Threads
                                        </li>
                                        <li>
                                            <strong>Category:</strong>
                                            Illustration
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close Project
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio item 2 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Project Name</h2>
                                    <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/portfolio/2.jpg" alt="..." />
                                    <p>Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                                    <ul class="list-inline">
                                        <li>
                                            <strong>Client:</strong>
                                            Explore
                                        </li>
                                        <li>
                                            <strong>Category:</strong>
                                            Graphic Design
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close Project
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio item 3 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal3" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Project Name</h2>
                                    <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/portfolio/3.jpg" alt="..." />
                                    <p>Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                                    <ul class="list-inline">
                                        <li>
                                            <strong>Client:</strong>
                                            Finish
                                        </li>
                                        <li>
                                            <strong>Category:</strong>
                                            Identity
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close Project
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio item 4 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal4" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Project Name</h2>
                                    <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/portfolio/4.jpg" alt="..." />
                                    <p>Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                                    <ul class="list-inline">
                                        <li>
                                            <strong>Client:</strong>
                                            Lines
                                        </li>
                                        <li>
                                            <strong>Category:</strong>
                                            Branding
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close Project
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio item 5 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal5" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Project Name</h2>
                                    <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/portfolio/5.jpg" alt="..." />
                                    <p>Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                                    <ul class="list-inline">
                                        <li>
                                            <strong>Client:</strong>
                                            Southwest
                                        </li>
                                        <li>
                                            <strong>Category:</strong>
                                            Website Design
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close Project
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio item 6 modal popup-->
        <div class="portfolio-modal modal fade" id="portfolioModal6" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-bs-dismiss="modal"><img src="assets/img/close-icon.svg" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project details-->
                                    <h2 class="text-uppercase">Project Name</h2>
                                    <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                                    <img class="img-fluid d-block mx-auto" src="assets/img/portfolio/6.jpg" alt="..." />
                                    <p>Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                                    <ul class="list-inline">
                                        <li>
                                            <strong>Client:</strong>
                                            Window
                                        </li>
                                        <li>
                                            <strong>Category:</strong>
                                            Photography
                                        </li>
                                    </ul>
                                    <button class="btn btn-primary btn-xl text-uppercase" data-bs-dismiss="modal" type="button">
                                        <i class="fas fa-xmark me-1"></i>
                                        Close Project
                                    </button>
                                </div>
                            </div>
                        </div>
<!-- ROHAM ROHAM CHAT WIDGET (paste this immediately before </body>) -->
<style>
:root{ --roham-primary:#007bff; --roham-bg:#fff; --roham-muted:#f6f7fb; --roham-radius:12px; --roham-z:99999; --roham-width:360px; --roham-fab:58px; }
.roham-fab{ position:fixed; bottom:18px; right:18px; z-index:var(--roham-z); width:var(--roham-fab); height:var(--roham-fab); border-radius:50%; background:var(--roham-primary); color:#fff; display:inline-flex; align-items:center; justify-content:center; box-shadow:0 8px 20px rgba(2,6,23,0.18); border:none; cursor:pointer; }
@media (max-width:520px){ .roham-fab{ right:calc(50% - var(--roham-fab)/2); } .roham-chat{ right:50%; transform:translateX(50%); width:94vw; } }
.roham-chat{ position:fixed; bottom:20px; right:18px; z-index:calc(var(--roham-z)+1); width:var(--roham-width); max-height:80vh; display:flex; flex-direction:column; background:var(--roham-bg); border-radius:var(--roham-radius); box-shadow:0 12px 40px rgba(10,20,40,0.12); overflow:hidden; font-family:inherit; }
.roham-chat[aria-hidden="true"]{ display:none; }
.roham-chat .header{ display:flex; gap:10px; align-items:center; padding:10px 12px; background:linear-gradient(90deg,var(--roham-primary),#0062d6); color:#fff; }
.roham-chat .avatar{ width:44px; height:44px; border-radius:10px; overflow:hidden; background:#fff; display:inline-flex; align-items:center; justify-content:center; }
.roham-chat .log{ padding:12px; overflow:auto; background:var(--roham-muted); flex:1 1 auto; font-size:14px; line-height:1.5; }
.roham-chat .msg{ margin-bottom:10px; display:flex; gap:8px; align-items:flex-end; }
.roham-chat .msg.user{ justify-content:flex-start; direction:rtl; }
.roham-chat .msg.bot{ justify-content:flex-end; direction:rtl; }
.roham-chat .bubble{ max-width:78%; padding:8px 12px; border-radius:10px; }
.roham-chat .msg.user .bubble{ background:#e9f2ff; color:#062a66; border-bottom-left-radius:4px; }
.roham-chat .msg.bot .bubble{ background:#fff; color:#111; box-shadow:0 2px 8px rgba(12,20,30,0.06); border-bottom-right-radius:4px; }
.roham-chat .input{ display:flex; gap:8px; align-items:center; padding:10px; border-top:1px solid #eee; background:linear-gradient(180deg,#fff,#fbfdff); }
.roham-chat .input input[type="text"]{ flex:1; border:1px solid #e6e9ef; border-radius:8px; padding:10px 12px; font-size:14px; outline:none; }
.roham-chat .input button{ min-width:44px; height:44px; border-radius:8px; border:none; background:var(--roham-primary); color:#fff; cursor:pointer; }
.roham-chat.min { width:220px; height:64px; overflow:visible; align-items:flex-start; }
.roham-quick{ display:flex; gap:6px; flex-wrap:wrap; margin-top:8px; }
.roham-quick button{ background:#fff; border:1px solid #e6e9ef; padding:6px 8px; border-radius:8px; font-size:13px; cursor:pointer; }
.roham-hidden{ display:none !important; }
</style>

<button id="rohamFab" class="roham-fab" aria-label="باز کردن راهنمای هوشمند" title="راهنمای هوشمند">💬</button>

<div id="rohamChat" class="roham-chat" role="dialog" aria-label="راهنمای هوشمند" aria-hidden="true">
  <div class="header">
    <div class="avatar" aria-hidden="true" id="rohamAvatar">
      <svg width="36" height="36" viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect width="24" height="24" rx="6" fill="#fff"/><path d="M12 12a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill="#007bff"/></svg>
    </div>
    <div style="flex:1;">
      <h4 style="margin:0;font-size:15px;">راهنمای هوشمند Roham</h4>
      <div id="rohamSubtitle" style="font-size:12px;opacity:.95;margin-top:2px;">پشتیبانی از فینگلش، چندزبان، یادگیری پویا</div>
    </div>
    <div style="display:flex;gap:6px;align-items:center;">
      <button id="rohamMin" aria-label="کوچک کردن" title="کوچک کردن" style="background:transparent;border:none;color:#fff;font-size:18px;cursor:pointer;">—</button>
      <button id="rohamClose" aria-label="بستن" title="بستن" style="background:transparent;border:none;color:#fff;font-size:20px;cursor:pointer;">×</button>
    </div>
  </div>

  <div id="rohamLog" class="log" aria-live="polite" aria-atomic="false"></div>

  <div class="input" role="group" aria-label="ورودی چت">
    <input id="rohamInput" type="text" placeholder="سؤال خود را بنویسید یا بنویس: lang:en یا finglish:on" aria-label="پیام شما" />
    <button id="rohamSend" aria-label="ارسال">ارسال</button>
    <button id="rohamVoice" aria-label="ورودی صوتی" title="دو بار کلیک برای ضبط" style="background:#fff;color:var(--roham-primary);border:1px solid #e6e9ef;padding:8px;border-radius:8px;">🎤</button>
  </div>
</div>

<script>
/* ROHAM CLIENT BRAIN (client-side) */
const ROHAM_MAX_HISTORY = 200;
const ROHAM_KNOWN_SERVICES = ["طراحی سایت","سئو","تولید محتوا","پشتیبانی","مشاوره","سفارش","پرداخت","تبلیغات گوگل","طراحی لوگو","اپلیکیشن"];
const ROHAM_DEFAULT_LANG = 'fa-IR';

const fab = document.getElementById('rohamFab');
const chat = document.getElementById('rohamChat');
const log = document.getElementById('rohamLog');
const input = document.getElementById('rohamInput');
const sendBtn = document.getElementById('rohamSend');
const closeBtn = document.getElementById('rohamClose');
const minBtn = document.getElementById('rohamMin');
const voiceBtn = document.getElementById('rohamVoice');
const subtitle = document.getElementById('rohamSubtitle');

let rohamMemory = JSON.parse(localStorage.getItem('roham_memory') || '[]');
let rohamLearned = JSON.parse(localStorage.getItem('roham_learned') || '{}');
let rohamLangPref = localStorage.getItem('roham_lang_pref') || 'auto';
let rohamFinglish = localStorage.getItem('roham_finglish') === '1';
let rohamVoiceEnabled = localStorage.getItem('roham_voice_enabled') === '1';

function escapeHtml(s){ return String(s||'').replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"})[m]); }
function preprocess(s){ return String(s||'').toLowerCase().replace(/[؟?!.,،؛"]/g,'').trim(); }
function levenshtein(a,b){ a=a||''; b=b||''; const al=a.length, bl=b.length; if(!al) return bl; if(!bl) return al; const dp=new Array(bl+1); for(let j=0;j<=bl;j++) dp[j]=j; for(let i=1;i<=al;i++){ let prev=dp[0]; dp[0]=i; for(let j=1;j<=bl;j++){ let cur=dp[j]; const cost = a[i-1]===b[j-1]?0:1; dp[j]=Math.min(dp[j]+1, dp[j-1]+1, prev+cost); prev=cur; } } return dp[bl]; }
function fuzzyFind(word,list){ let best=list[0], min=levenshtein(word,best); for(let i=1;i<list.length;i++){ const d=levenshtein(word,list[i]); if(d<min){ min=d; best=list[i]; } } return {best,dist:min}; }

function finglishToFa(s){
  if(!s) return s;
  let t = String(s);
  t = t.replace(/KH/gi,'خ').replace(/GH/gi,'غ').replace(/SH/gi,'ش').replace(/CH/gi,'چ');
  const map = [['kh','خ'],['gh','غ'],['sh','ش'],['ch','چ'],['ph','ف'],['zh','ژ'],['oo','و'],['ou','و'],['ee','ی'],['a','ا'],['â','ا'],['e','e'],['o','o'],['u','و'],['i','ی'],['y','ی']];
  for(const [k,v] of map) t = t.replace(new RegExp(k,'gi'), v);
  return t.replace(/\s+/g,' ').trim();
}

const ROHAM_KEYWORDS = {
  greeting:["سلام","درود","خوش اومدی","خوبی","چطوری"],
  farewell:["خداحافظ","بای","فعلاً"],
  identity:["کی هستی","تو کی‌ای","چه کسی هستی"],
  price:["قیمت","هزینه","چنده"],
  support:["پشتیبانی","کمک","مشکل"]
};
function detectIntent(text){
  const t = text.toLowerCase();
  for(const k in ROHAM_KEYWORDS) if(ROHAM_KEYWORDS[k].some(w=>t.includes(w))) return k;
  return null;
}
function detectEmotion(text){
  if(text.includes('😡')||text.includes('عصبانی')) return 'angry';
  if(text.includes('😊')||text.includes('خوشحال')) return 'happy';
  if(text.includes('😢')||text.includes('ناراحت')) return 'sad';
  return 'neutral';
}

function appendMessage(who, text){
  const wrapper = document.createElement('div');
  wrapper.className = 'msg ' + (who==='user' ? 'user' : 'bot');
  const bubble = document.createElement('div');
  bubble.className = 'bubble';
  bubble.innerHTML = `<strong>${who==='user' ? 'شما' : 'راهنما'}:</strong> ${escapeHtml(text)}`;
  wrapper.appendChild(bubble);
  log.appendChild(wrapper);
  log.scrollTop = log.scrollHeight;
}
function showQuick(list){
  const prev = document.querySelector('.roham-quick'); if(prev) prev.remove();
  if(!list || !list.length) return;
  const row = document.createElement('div'); row.className='roham-quick';
  list.forEach(t=>{
    const b = document.createElement('button'); b.textContent=t;
    b.style.marginRight='6px'; b.style.padding='6px 8px'; b.style.borderRadius='8px'; b.style.border='1px solid #e6e9ef'; b.style.background='#fff'; b.style.cursor='pointer';
    b.addEventListener('click', ()=>{ input.value = t; handleSend(); });
    row.appendChild(b);
  });
  log.appendChild(row);
  log.scrollTop = log.scrollHeight;
}

function clientBrain(raw){
  if(!raw || !raw.trim()) return "لطفاً چیزی بنویسید.";
  const langCmd = raw.match(/^lang\s*:\s*([a-zA-Z-]+)/i);
  const fingCmd = raw.match(/^finglish\s*:\s*(on|off)/i);
  const learnCmd = raw.match(/^یاد بگیر\s+"(.+)"\s+پاسخ\s+"(.+)"$/i);
  if(langCmd){ rohamLangPref = langCmd[1]; localStorage.setItem('roham_lang_pref', rohamLangPref); subtitle.textContent = 'زبان: ' + rohamLangPref; return `زبان تنظیم شد به ${rohamLangPref}`; }
  if(fingCmd){ rohamFinglish = fingCmd[1].toLowerCase() === 'on'; localStorage.setItem('roham_finglish', rohamFinglish ? '1' : '0'); return `فینگلش ${rohamFinglish ? 'فعال' : 'غیرفعال'} شد`; }
  if(learnCmd){ const key = preprocess(learnCmd[1]); rohamLearned[key] = learnCmd[2]; localStorage.setItem('roham_learned', JSON.stringify(rohamLearned)); return `یاد گرفتم: وقتی گفتی "${learnCmd[1]}", پاسخ: "${learnCmd[2]}"`; }

  let text = raw;
  if(rohamFinglish) text = finglishToFa(text);
  const cleaned = preprocess(text);
  if(rohamLearned[cleaned]) return rohamLearned[cleaned];
  const intent = detectIntent(cleaned);
  if(intent === 'greeting') return 'سلام! چطور می‌تونم کمکت کنم؟';
  if(intent === 'farewell') return 'خداحافظ؛ هر وقت خواستی برگرد.';
  if(intent === 'identity') return 'من یک راهنمای هوشمند درون صفحه هستم؛ می‌تونم خدمات و روند را توضیح بدم.';
  if(intent === 'price') return 'برای گرفتن قیمت دقیق، مشخص کن چه خدمتی می‌خواهی یا فرم تماس را پر کن.';
  if(intent === 'support') return 'برای پشتیبانی، مشکل را بگو یا به بخش تماس مراجعه کن.';
  const tokens = cleaned.split(/\s+/);
  for(const t of tokens){
    const {best,dist} = fuzzyFind(t, ROHAM_KNOWN_SERVICES);
    if(dist <= 2) return `ما خدمات ${best} ارائه می‌دهیم؛ می‌خوای جزئیات قیمت یا نمونه کار ببینی؟`;
  }
  if(/[a-zA-Z]/.test(raw) && (!rohamLangPref || rohamLangPref === 'auto')) return "I detected Latin letters; برای پاسخ انگلیسی بنویس: lang:en";
  return smartFallback(cleaned);
}

function smartFallback(cleaned){
  const qWords = ['چی','چه','چطور','چرا','کی','کجا','how','what','why','when','where'];
  if(qWords.some(q=>cleaned.includes(q))) {
    for(const svc of ROHAM_KNOWN_SERVICES) if(cleaned.includes(preprocess(svc)) || levenshtein(cleaned, preprocess(svc)) <= 4) return `در رابطه با ${svc} بگو دقیقاً دنبال چه هستی تا راهنمایی کنم.`;
    return 'سؤال خوبی پرسیدی؛ کمی دقیق‌تر بنویس تا راهنمایی مخصوص به تو بدم.';
  }
  if(cleaned.split(' ').length > 6) return 'متشکرم از توضیحت؛ می‌تونی بگی دنبال چه نتیجه‌ای هستی تا دقیق‌تر کمک کنم؟';
  return 'متوجه نشدم؛ می‌خوای بهم یاد بدی چی جواب بدم؟ بنویس: یاد بگیر "جمله" پاسخ "پاسخ دلخواه"';
}

function handleSend(){
  const text = input.value.trim(); if(!text) return;
  appendMessage('user', text); input.value='';
  let reply;
  try{ reply = clientBrain(text); } catch(e){ reply = 'خطای داخلی؛ دوباره امتحان کن.'; console.error(e); }
  const emotion = detectEmotion(text);
  if(emotion === 'angry') reply += ' 😬 ببخشید اگه ناراحتت کردم.';
  if(emotion === 'happy') reply += ' 😊 خوشحالم که حالت خوبه!';
  if(emotion === 'sad') reply += ' 😢 امیدوارم بهتر بشی.';
  rohamMemory.push({user:text, bot:reply}); rohamMemory = rohamMemory.slice(-ROHAM_MAX_HISTORY);
  localStorage.setItem('roham_memory', JSON.stringify(rohamMemory));
  localStorage.setItem('roham_learned', JSON.stringify(rohamLearned));
  appendMessage('bot', reply); showQuick(generateQuick(reply));
  if(rohamVoiceEnabled) rohamSpeak(reply);
}

function generateQuick(reply){
  const list = [];
  if(/خدمات|خدمت|سفارش|قیمت/.test(reply)) list.push('قیمت خدمات');
  if(/تماس|فرم/.test(reply)) list.push('فرم تماس');
  list.push('تماس با پشتیبانی'); list.push('اطلاعات بیشتر');
  return list.slice(0,5);
}

function rohamSpeak(text){
  if(!('speechSynthesis' in window)) return;
  const u = new SpeechSynthesisUtterance(text);
  u.lang = (rohamLangPref && rohamLangPref !== 'auto') ? rohamLangPref : ROHAM_DEFAULT_LANG;
  window.speechSynthesis.cancel(); window.speechSynthesis.speak(u);
}

let recognition = null;
if('webkitSpeechRecognition' in window || 'SpeechRecognition' in window){
  const Rec = window.SpeechRecognition || window.webkitSpeechRecognition;
  recognition = new Rec(); recognition.lang = ROHAM_DEFAULT_LANG; recognition.interimResults = false; recognition.maxAlternatives = 1;
  recognition.onresult = e=>{ const t = e.results[0][0].transcript; input.value = input.value ? input.value + ' ' + t : t; input.focus(); }; recognition.onerror = ()=>{};
}

fab.addEventListener('click', ()=>{ chat.style.display='flex'; chat.setAttribute('aria-hidden','false'); fab.style.display='none'; input.focus(); });
closeBtn.addEventListener('click', ()=>{ chat.style.display='none'; chat.setAttribute('aria-hidden','true'); fab.style.display='inline-flex'; });
minBtn.addEventListener('click', ()=>{ if(chat.classList.contains('min')){ chat.classList.remove('min'); minBtn.textContent='—'; } else { chat.classList.add('min'); minBtn.textContent='+'; } });
sendBtn.addEventListener('click', handleSend);
input.addEventListener('keydown', e=>{ if(e.key === 'Enter') handleSend(); });
voiceBtn.addEventListener('dblclick', ()=>{ if(!recognition) return alert('مرورگر شما ضبط گفتار را پشتیبانی نمی‌کند.'); recognition.start(); });
voiceBtn.addEventListener('click', ()=>{ rohamVoiceEnabled = !rohamVoiceEnabled; localStorage.setItem('roham_voice_enabled', rohamVoiceEnabled ? '1' : '0'); voiceBtn.textContent = rohamVoiceEnabled ? '🔊' : '🎤'; });
if(rohamVoiceEnabled) voiceBtn.textContent = '🔊'; else voiceBtn.textContent = '🎤';

(function init(){ if(Array.isArray(rohamMemory) && rohamMemory.length){ rohamMemory.forEach(m=>{ appendMessage('user', m.user); appendMessage('bot', m.bot); }); } else appendMessage('bot','سلام! من راهنمای هوشمند سایت هستم. برای فعال‌سازی فینگلش بنویس: finglish:on'); if(rohamLangPref && rohamLangPref !== 'auto') subtitle.textContent = 'زبان: ' + rohamLangPref; })();

window.roham = { memory: rohamMemory, learned: rohamLearned, clear: ()=>{ rohamMemory=[]; rohamLearned={}; localStorage.removeItem('roham_memory'); localStorage.removeItem('roham_learned'); log.innerHTML=''; appendMessage('bot','پاک شد'); }, setFinglish: v=>{ rohamFinglish=!!v; localStorage.setItem('roham_finglish', rohamFinglish ? '1' : '0'); } };
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
